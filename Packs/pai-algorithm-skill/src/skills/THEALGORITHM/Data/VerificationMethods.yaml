# Verification Methods Registry
# Select the appropriate method when creating ISC rows

verification_methods:
  browser:
    icon: "üåê"
    description: "Visual verification via browser automation"
    when_to_use:
      - "UI/UX changes"
      - "Visual styling"
      - "Web application functionality"
      - "User-facing features"
    command_examples:
      - "bun run ~/.claude/skills/Browser/Tools/Browse.ts screenshot <url>"
      - "bun run ~/.claude/skills/Browser/Tools/Browse.ts verify <url> <selector>"
    success_criteria_examples:
      - "Button visible and clickable"
      - "Page loads without console errors"
      - "Dark mode toggle changes theme"

  test:
    icon: "üß™"
    description: "Automated test suite verification"
    when_to_use:
      - "Function behavior"
      - "API responses"
      - "Business logic"
      - "Edge cases"
    command_examples:
      - "bun test src/feature.test.ts"
      - "bun test --grep 'logout'"
      - "bun run test:unit"
    success_criteria_examples:
      - "All tests pass"
      - "Coverage >= 80%"
      - "No test regressions"

  grep:
    icon: "üîé"
    description: "Pattern search in code/files"
    when_to_use:
      - "Code conventions (TypeScript, imports)"
      - "Security patterns (no eval, no innerHTML)"
      - "Configuration presence"
      - "Naming conventions"
    command_examples:
      - "grep -r 'lang=\"ts\"' src/"
      - "grep -rL 'eval(' src/"
      - "grep 'export default' src/components/"
    success_criteria_examples:
      - "Pattern found in all files"
      - "Pattern NOT found (security)"
      - "Consistent naming across codebase"

  api:
    icon: "üì°"
    description: "HTTP request verification"
    when_to_use:
      - "API endpoint responses"
      - "External service integration"
      - "Authentication flows"
      - "Webhook handling"
    command_examples:
      - "curl -s https://api.example.com/health | jq ."
      - "curl -X POST -d '{}' https://api.example.com/test"
    success_criteria_examples:
      - "Status 200 OK"
      - "Response contains required fields"
      - "No error in response body"

  lint:
    icon: "‚ú®"
    description: "Code quality and style verification"
    when_to_use:
      - "Code formatting"
      - "Type correctness"
      - "Best practice adherence"
      - "Import organization"
    command_examples:
      - "bun run lint"
      - "bun run typecheck"
      - "biome check src/"
    success_criteria_examples:
      - "No lint errors"
      - "No type errors"
      - "Consistent formatting"

  manual:
    icon: "üëÅÔ∏è"
    description: "Human verification required"
    when_to_use:
      - "Subjective quality (is it good?)"
      - "UX feel and flow"
      - "Documentation clarity"
      - "Design aesthetics"
    command_examples:
      - "# Review in browser"
      - "# Check output manually"
    success_criteria_examples:
      - "User approves the result"
      - "Documentation is clear to reader"
      - "Design matches mockup"

  agent:
    icon: "ü§ñ"
    description: "Verification by specialized agent"
    when_to_use:
      - "Complex multi-step verification"
      - "Cross-cutting concerns"
      - "Security audit"
      - "Performance profiling"
    command_examples:
      - "# Spawn QA agent to verify"
      - "# Spawn security agent to audit"
    success_criteria_examples:
      - "Agent reports all checks pass"
      - "No security issues found"
      - "Performance within bounds"

  inferred:
    icon: "üí´"
    description: "Verification covered by other tests"
    when_to_use:
      - "Implicit in other tests"
      - "Guaranteed by language/framework"
      - "Covered by CI pipeline"
    command_examples:
      - "# Covered by test:e2e"
      - "# TypeScript compiler enforces this"
    success_criteria_examples:
      - "Build succeeds = verified"
      - "E2E tests cover this path"

  eval:
    icon: "üìä"
    description: "Evaluation suite verification"
    when_to_use:
      - "Agent behavior validation"
      - "Quality regression testing"
      - "Capability verification"
      - "Multi-grader assessment"
    command_examples:
      - "bun run ~/.claude/skills/Evals/Tools/AlgorithmBridge.ts --suite regression-core"
      - "bun run ~/.claude/skills/Evals/Tools/AlgorithmBridge.ts --suite capability-auth --isc-row 3"
    success_criteria_examples:
      - "Suite pass rate >= threshold"
      - "All regression tests pass"
      - "Capability eval shows improvement"
    variants:
      - eval.regression    # Quick, must-pass tests
      - eval.capability    # Stretch goal validation
      - eval.full          # All applicable evals

# Selection heuristics
selection_guide:
  - question: "Is this visual/UI related?"
    yes: browser
    no: continue
  - question: "Can I write a unit/integration test?"
    yes: test
    no: continue
  - question: "Am I checking for code patterns?"
    yes: grep
    no: continue
  - question: "Does this involve HTTP requests?"
    yes: api
    no: continue
  - question: "Is this about code quality/style?"
    yes: lint
    no: continue
  - question: "Is this covered by existing tests?"
    yes: inferred
    no: continue
  - question: "Does this need complex multi-step checking?"
    yes: agent
    no: manual
