# THE ALGORITHM Capabilities Registry
# Source of truth for all orchestratable capabilities
# Effort levels: TRIVIAL < QUICK < STANDARD < THOROUGH < DETERMINED

version: "1.0"

# === COMPUTE RESOURCES ===
models:
  haiku:
    effort_min: QUICK
    description: "Fast, cheap execution"
    use_for: "Parallel grunt work, simple execution, spotchecks"
  sonnet:
    effort_min: STANDARD
    description: "Balanced reasoning"
    use_for: "Analysis, planning, research, standard work"
  opus:
    effort_min: DETERMINED
    description: "Maximum intelligence"
    use_for: "Architecture, critical decisions, complex reasoning"

# === THINKING MODES ===
thinking:
  deep thinking:
    skill: BeCreative
    workflow: StandardCreativity
    effort_min: STANDARD
    use_when: "Need creative solutions, novel approaches, quality thinking"

  tree_of_thought:
    skill: BeCreative
    workflow: TreeOfThoughts
    effort_min: THOROUGH
    use_when: "Complex multi-factor decisions, branching exploration"

  plan_mode:
    tool: EnterPlanMode
    effort_min: THOROUGH
    use_when: "Complex multi-step implementation needing user approval"

# === DEBATE SYSTEMS ===
debate:
  council:
    skill: Council
    workflow: DEBATE
    effort_min: THOROUGH
    agents: 4
    rounds: 3
    use_when: "Need multiple perspectives, collaborative analysis, design decisions"

  redteam:
    skill: RedTeam
    workflow: ParallelAnalysis
    effort_min: DETERMINED
    agents: 32
    use_when: "Adversarial validation, stress-testing, find weaknesses"

# === ANALYSIS MODES ===
analysis:
  first_principles:
    skill: FirstPrinciples
    effort_min: STANDARD
    use_when: "Challenge assumptions, find root truths, deconstruct problems"

  science:
    skill: Science
    effort_min: STANDARD
    use_when: "Hypothesis-driven exploration, systematic experimentation"

# === RESEARCH AGENTS ===
research:
  perplexity:
    subagent_type: PerplexityResearcher
    model: sonnet
    effort_min: STANDARD
    use_when: "Web research, current events, citations needed"

  gemini:
    subagent_type: GeminiResearcher
    model: sonnet
    effort_min: STANDARD
    use_when: "Multi-perspective research, parallel query decomposition"

  grok:
    subagent_type: GrokResearcher
    model: sonnet
    effort_min: STANDARD
    use_when: "Contrarian analysis, unbiased fact-checking"

  claude:
    subagent_type: ClaudeResearcher
    model: sonnet
    effort_min: STANDARD
    use_when: "Academic research, scholarly sources"

  codex:
    subagent_type: CodexResearcher
    model: sonnet
    effort_min: STANDARD
    use_when: "Technical archaeology, code pattern research"

# === EXECUTION AGENTS ===
execution:
  intern:
    subagent_type: Intern
    model: haiku
    effort_min: QUICK
    use_when: "Parallel grunt work, simple tasks, data gathering"

  architect:
    subagent_type: Architect
    model: opus
    effort_min: THOROUGH
    use_when: "System design, architectural decisions"

  engineer:
    subagent_type: Engineer
    model: sonnet
    effort_min: STANDARD
    use_when: "Implementation, coding tasks"

  qa_tester:
    subagent_type: QATester
    model: sonnet
    effort_min: STANDARD
    use_when: "Testing, validation, quality assurance"

  designer:
    subagent_type: Designer
    model: sonnet
    effort_min: STANDARD
    use_when: "UX/UI design, user-centered solutions"

  pentester:
    subagent_type: Pentester
    model: sonnet
    effort_min: THOROUGH
    use_when: "Security testing, vulnerability assessment"

  ralph_loop:
    type: iterative_loop
    model: sonnet
    effort_min: QUICK
    icon: "ðŸ”„"
    keywords:
      - "iterate until"
      - "keep trying"
      - "until tests pass"
      - "until it works"
      - "persistent"
      - "retry until"
      - "loop until"
      - "ralph"
      - "keep iterating"
      - "don't stop until"
    max_iterations_default: 10
    completion_detection: promise_tags
    plugin_source: ralph-wiggum
    use_when: "Need persistent iteration until success criteria met - tests passing, goal achieved, or completion promise detected"

# === AGENT COMPOSITION ===
agent_composition:
  factory:
    tool: AgentFactory
    location: ~/.claude/skills/Agents/Tools/AgentFactory.ts
    effort_min: STANDARD
  traits_file: ~/.claude/skills/Agents/Data/Traits.yaml
  use_when: "Need custom agent with specific trait combination"

# === PARALLEL EXECUTION ===
parallel:
  max_concurrent:
    QUICK: 1
    STANDARD: 3
    THOROUGH: 5
    DETERMINED: 10
  background_enabled: true
  spotcheck_required: true
  spotcheck_model: haiku

# === VERIFICATION ===
verification:
  browser:
    skill: Browser
    effort_min: STANDARD
    use_when: "Web application validation, visual verification"

  skeptical_verifier:
    traits: [skeptical, meticulous, adversarial]
    model: sonnet
    rule: "Must be different agent than executor"
    use_when: "Validate work against ISC criteria"

# === EFFORT SUMMARY ===
effort_unlocks:
  TRIVIAL:
    description: "Skip algorithm, direct response"
    capabilities: []

  QUICK:
    description: "Single-step, fast execution"
    capabilities:
      - models.haiku
      - execution.intern
      - execution.ralph_loop

  STANDARD:
    description: "Multi-step bounded work"
    capabilities:
      - models.haiku
      - models.sonnet
      - thinking.deep thinking
      - analysis.first_principles
      - analysis.science
      - research.* # single researcher
      - execution.intern
      - execution.engineer
      - execution.qa_tester
      - execution.designer
      - agent_composition
      - verification.browser
      - verification.skeptical_verifier

  THOROUGH:
    description: "Complex, multi-file work"
    capabilities:
      - all_standard
      - thinking.tree_of_thought
      - thinking.plan_mode
      - debate.council
      - research.* # parallel researchers
      - execution.architect
      - execution.pentester

  DETERMINED:
    description: "Mission-critical, unlimited iteration"
    capabilities:
      - all_capabilities
      - models.opus
      - debate.redteam
